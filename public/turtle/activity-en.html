<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Kart-ON Kalem</title>
    <link href='./lib/dragula.css' rel='stylesheet' type='text/css' />
    <link href='style/activity.css' rel='stylesheet' type='text/css' />
    <script src="../processing/lib/fuse/fuse.js"></script>
    <script type="text/javascript" src="lib/jquery-3.3.1.min.js"></script>
    <script src="js/code-en.js"></script>
    <script src="js/interpreter.js"></script>
</head>

<body>
    <script>
        if (!String.prototype.format) {
            String.prototype.format = function () {
                var args = arguments;
                return this.replace(/{(\d+)}/g, function (match, number) {
                    return typeof args[number] !== 'undefined' ? args[number] : match;
                });
            };
        }
    </script>
    <h2>Kart-ON Pen Mode</h2>
    <div class='parent'>
        <div class="title-container">
            <div>Commands</div>
            <div>Code</div>
            <div>Output</div>
        </div>
        <div class="button-container">
            <div></div>
            <div><button onclick="clearArea()">clear</button></div>
            <div><button onclick="runCommandArray()">run</button></div>
        </div>
        <div class="grid-container">
            <div id='left-copy-1tomany' class='container container-left'>
            </div>
            <div id='right-copy-1tomany' class='container container-right'>
            </div>
            <div>
                <canvas id="turtlecanvas" width="320" height="480"></canvas>
                <canvas id="imagecanvas" width="320" height="480" style="display:none"></canvas>
                <p id="console" style="cursor: pointer" onclick="copyElementText()"></p>
            </div>
        </div>
        <script type="text/javascript" src="js/activity.js"></script>
    </div>
    <script src='./lib/dragula.js'></script>
    <script src="js/drag.js"></script>
    <script>
        function copyElementText() {
            var text = document.getElementById("console").innerText;
            var elem = document.createElement("textarea");
            document.body.appendChild(elem);
            elem.value = text;
            elem.select();
            document.execCommand("copy");
            document.body.removeChild(elem);
        }

        for (var i = 0; i < codeList.length; i++) {
            document.getElementById("left-copy-1tomany").innerHTML +=
                '<div class="card">\n' +
                '<label>' + codeList[i].title + '</label>\n' +
                ((codeList[i].noIn > 0) ? '<input type="number">\n' : '') +
                '</div>';
        }

        function clearArea() {
            document.getElementById("right-copy-1tomany").innerHTML = "";
        }
    </script>
</body>

</html>